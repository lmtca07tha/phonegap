<!DOCTYPE HTML>
<head>
	<meta http-equiv="content-type" content="text/html" />
	<meta name="author" content="HuyTD" />
    <meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=1" />
    <meta http-equiv="Content-Type" content="text/html; charset=UTF-8" />
	<title>GDVN PhoneGap thần chưởng</title>
</head>

<style>
body, html {
    margin: 0; padding: 0;
    width: 100%; height: 100%;
}
*  { -webkit-user-select:none; -webkit-tap-highlight-color:rgba(255, 255, 255, 0); }
        input, textarea  { -webkit-user-select:text; } 
</style>

<script>
preventDefaultScroll = function(event) {
	// Chặn không cho người dùng rê trang web khi chạy trên mobile
	event.preventDefault();
	window.scroll(0,0);
	return false;
};
window.document.addEventListener('touchmove', preventDefaultScroll, false);
</script>

<body>

<canvas id="canvas" width="320" height="480"></canvas>

<script>
var canvas = document.getElementById("canvas");
var ctx = canvas.getContext("2d");
var fps = 300;
var cfps = 0, now, lastUpdate = (new Date)*1 - 1;
var mouseX; var mouseY;
var dx = 1; var x = 1;
canvas.width = 320; canvas.height = 480;
 
function clear(){
    ctx.fillStyle = 'black';
    ctx.fillRect(0, 0, 320, 480);
}

function update() {
    clear();
    ctx.write
    ctx.fillStyle = '#FFF';
    ctx.fillText("Testing Canvas with PhoneGap hohoho", 50, 200);
    ctx.fillRect(x, 250, 50, 50);   
    
    x += dx;
    if (x > 268) dx = -1;
    if (x <= 1) dx = 1;
    
    ctx.fillText(cfps.toFixed(1) + "fps", 10, 20);
   
    var thisFrameFPS = 1000 / ((now=new Date) - lastUpdate);
    cfps += (thisFrameFPS - cfps) / fps;
    lastUpdate = now * 1 - 1;
}

window.setInterval(update,1000/fps);

</script>

</body>

</html>